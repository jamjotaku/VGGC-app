<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vspo! Goods Catalog</title>
    <style>
        :root {
            --vspo-pink: #ff69b4;
            --vspo-blue: #00bfff;
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
        }

        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            color: #333;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        /* æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¨ãƒªã‚¢ */
        .controls {
            max-width: 1000px;
            margin: 0 auto 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .controls input, .controls select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            flex: 1;
            min-width: 200px;
        }

        /* ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        .item-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* ã‚«ãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .item-card {
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.3s ease;
            border-bottom: 4px solid var(--vspo-pink);
        }

        .item-card:hover {
            transform: translateY(-8px);
        }

        .item-content {
            padding: 20px;
        }

        .circle-info {
            font-size: 0.85rem;
            color: #777;
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
        }

        .item-type {
            display: inline-block;
            background: #f0f0f0;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            margin-bottom: 10px;
        }

        .item-name {
            font-size: 1.1rem;
            margin: 0 0 15px 0;
            height: 3em;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        .item-price {
            font-size: 1.4rem;
            color: var(--vspo-pink);
            font-weight: 900;
            text-align: right;
        }

        /* çµ±è¨ˆæƒ…å ±ã®è¡¨ç¤º */
        .stats {
            text-align: center;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: #666;
        }
    </style>
</head>
<body>

<header>
    <h1>VGGCéå…¬å¼ãŠè²·ã„ç‰©ãƒªã‚¹ãƒˆ</h1>
    <div class="stats" id="stats-display">èª­ã¿è¾¼ã¿ä¸­...</div>
</header>

<div class="controls">
    <input type="text" id="search-input" placeholder="ã‚µãƒ¼ã‚¯ãƒ«åãƒ»ã‚°ãƒƒã‚ºåãƒ»ã‚¹ãƒšãƒ¼ã‚¹ç•ªå·ã§æ¤œç´¢...">
    <select id="type-filter">
        <option value="">ã™ã¹ã¦ã®ç¨®åˆ¥</option>
        </select>
</div>

<div id="catalog-container" class="item-grid"></div>

<script>
    let catalogData = [];

    // ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
    async function init() {
        try {
            const response = await fetch('catalog.json');
            catalogData = await response.json();
            
            setupFilters();
            render(catalogData);
        } catch (error) {
            document.getElementById('catalog-container').innerHTML = "<p>ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p>";
        }
    }

    // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼é¸æŠè‚¢ã®è‡ªå‹•ç”Ÿæˆ
    function setupFilters() {
        const types = [...new Set(catalogData.map(item => item.type))];
        const filter = document.getElementById('type-filter');
        types.forEach(type => {
            if (type) {
                const opt = document.createElement('option');
                opt.value = type;
                opt.textContent = type;
                filter.appendChild(opt);
            }
        });
    }

    // ã‚«ãƒ¼ãƒ‰ã®æç”»
    function render(data) {
        const container = document.getElementById('catalog-container');
        const stats = document.getElementById('stats-display');
        
        stats.textContent = `ç¾åœ¨ ${data.length} ä»¶ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¡¨ç¤ºä¸­`;
        
        if (data.length === 0) {
            container.innerHTML = "<p style='grid-column: 1/-1; text-align: center;'>è©²å½“ã™ã‚‹ã‚¢ã‚¤ãƒ†ãƒ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>";
            return;
        }

        container.innerHTML = data.map(item => `
            <div class="item-card">
                <div class="item-content">
                    <div class="circle-info">
                        <span>ğŸ“ ${item.num || '---'}</span>
                        <span>${item.circle || 'ä¸æ˜ãªã‚µãƒ¼ã‚¯ãƒ«'}</span>
                    </div>
                    <span class="item-badge item-type">${item.type}</span>
                    <h3 class="item-name">${item.item}</h3>
                    <div class="item-price">Â¥${(item.price || 0).toLocaleString()}</div>
                </div>
            </div>
        `).join('');
    }

    // æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã®ãƒ­ã‚¸ãƒƒã‚¯
    function filterData() {
        const searchText = document.getElementById('search-input').value.toLowerCase();
        const selectedType = document.getElementById('type-filter').value;

        const filtered = catalogData.filter(item => {
            const matchesSearch = (
                (item.circle && item.circle.toLowerCase().includes(searchText)) ||
                (item.item && item.item.toLowerCase().includes(searchText)) ||
                (item.num && item.num.toLowerCase().includes(searchText))
            );
            const matchesType = selectedType === "" || item.type === selectedType;
            return matchesSearch && matchesType;
        });

        render(filtered);
    }

    // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
    document.getElementById('search-input').addEventListener('input', filterData);
    document.getElementById('type-filter').addEventListener('change', filterData);

    init();
</script>

</body>
</html>
